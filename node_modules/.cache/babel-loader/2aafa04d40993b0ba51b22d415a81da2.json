{"ast":null,"code":"import _classCallCheck from \"/Users/omrigotlieb/Desktop/projects/Swapi/swapi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/omrigotlieb/Desktop/projects/Swapi/swapi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/omrigotlieb/Desktop/projects/Swapi/swapi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/omrigotlieb/Desktop/projects/Swapi/swapi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/omrigotlieb/Desktop/projects/Swapi/swapi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/omrigotlieb/Desktop/projects/Swapi/swapi/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/omrigotlieb/Desktop/projects/Swapi/swapi/src/app/components/SingleCard/SingleCard.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport store from '../../../store.js';\nimport { Link } from 'react-router-dom';\nimport './SingleCard.css';\nimport cardIcon from '../../../assets/cardIcon.jpg';\nimport heart from \"../../../assets/heart.svg\";\nimport activeHeart from \"../../../assets/activeHeart.svg\";\nimport { favoriteCard as _favoriteCard } from '../../../actions/actionCreators';\n\nvar SingleCard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SingleCard, _React$Component);\n\n  function SingleCard(props) {\n    var _this;\n\n    _classCallCheck(this, SingleCard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SingleCard).call(this, props));\n    _this.state = {};\n    store.subscribe(function () {\n      _this.setState({\n        isFavorite: store.getState().isFavorite\n      });\n    });\n    _this.handleHeartClick = _this.handleHeartClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(SingleCard, [{\n    key: \"handleHeartClick\",\n    value: function handleHeartClick(e) {\n      e.preventDefault();\n\n      var _store$getState = store.getState(),\n          isFavorite = _store$getState.isFavorite;\n\n      debugger;\n      this.props.favoriteCard(isFavorite); //  this.setState({ isFavorite: !this.state.isFavorite });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var state = store.getState();\n      var episodeId = this.props.episodeId;\n      var heartIcon = state.isFavorite ? activeHeart : heart;\n      var _this$props = this.props,\n          view = _this$props.view,\n          films = _this$props.films,\n          i = _this$props.i,\n          people = _this$props.people;\n      return React.createElement(Link, {\n        to: \"/:\".concat(view, \"/:\").concat(i),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: this.props.cardIcon,\n        alt: \"cardIcon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: heartIcon,\n        className: \"heart\",\n        alt: \"cardIcon\",\n        onClick: this.handleHeartClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, this.props.title ? this.props.title : this.props.name), episodeId ? React.createElement(\"div\", {\n        className: \"episode\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"Episode: \", this.props.episodeId) : React.createElement(\"div\", {\n        className: \"episode\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"Gender :  \", this.props.gender), React.createElement(\"div\", {\n        className: \"director\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, this.props.director)));\n    }\n  }]);\n\n  return SingleCard;\n}(React.Component);\n\n;\n\nvar mapStateToProps = function mapStateToProps(state, ownProps) {\n  return {\n    isFavorite: ownProps.isFavorite\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    favoriteCard: function favoriteCard(state) {\n      return dispatch(_favoriteCard(state));\n    }\n  };\n};\n\nSingleCard = connect(mapStateToProps, mapDispatchToProps)(SingleCard);\nexport default SingleCard;","map":{"version":3,"sources":["/Users/omrigotlieb/Desktop/projects/Swapi/swapi/src/app/components/SingleCard/SingleCard.js"],"names":["React","connect","store","Link","cardIcon","favoriteCard","SingleCard","props","state","subscribe","setState","isFavorite","getState","handleHeartClick","bind","e","preventDefault","episodeId","heartIcon","activeHeart","heart","view","films","i","people","title","name","gender","director","Component","mapStateToProps","ownProps","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport store from '../../../store.js';\nimport { Link } from 'react-router-dom';\nimport './SingleCard.css';\nimport cardIcon from '../../../assets/cardIcon.jpg';\nimport heart from '../../../assets/heart.svg';\nimport activeHeart from '../../../assets/activeHeart.svg';\nimport { favoriteCard } from '../../../actions/actionCreators';\n\nclass SingleCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n\n    };\n\n    store.subscribe(() => {\n     this.setState({\n       isFavorite: store.getState().isFavorite\n     });\n   });\n\n    this.handleHeartClick = this.handleHeartClick.bind(this);\n  }\n\n  handleHeartClick(e) {\n    e.preventDefault();\n\n    let { isFavorite } = store.getState();\n    debugger;\n    this.props.favoriteCard(isFavorite);\n  //  this.setState({ isFavorite: !this.state.isFavorite });\n  }\n\nrender() {\n  let state = store.getState();\n  const episodeId = this.props.episodeId;\n  const heartIcon = state.isFavorite ? activeHeart: heart;\n  const {view, films, i, people} = this.props;\n  return (\n<Link to={`/:${view}/:${i}`}>\n    <div className='card'>\n    <img src={this.props.cardIcon} alt=\"cardIcon\" />\n    <div >\n    <img src={heartIcon} className='heart' alt=\"cardIcon\" onClick={this.handleHeartClick}/>\n    </div>\n    <div className='title'>\n     {this.props.title ? this.props.title : this.props.name}\n     </div>\n     {\n      episodeId ?\n      <div className='episode'>Episode: {this.props.episodeId}</div> :\n      <div className='episode'>Gender :  {this.props.gender}</div>\n      }\n     <div className='director'>{this.props.director}</div>\n   </div>\n   </Link>\n );\n};\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  isFavorite: ownProps.isFavorite\n})\n\nconst mapDispatchToProps = dispatch => ({\n  favoriteCard: (state) => dispatch(favoriteCard(state))\n})\n\nSingleCard = connect(mapStateToProps, mapDispatchToProps)(SingleCard)\nexport default SingleCard;\n"]},"metadata":{},"sourceType":"module"}